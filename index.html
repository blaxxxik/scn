<!DOCTYPE html>
<html lang="en">
<head>
        <link rel="icon" href="favicon.ico" type="image/x-icon">
        <link rel="shortcut icon" href="favicon.ico">
        <link rel="apple-touch-icon" href="favicon.png">
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Cyrox Search</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <link href="https://fonts.googleapis.com/css2?family=Montserrat:wght@400;600;700&family=Orbitron:wght@500;700;800&display=swap" rel="stylesheet">
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            font-family: 'Montserrat', sans-serif;
        }

        body {
            min-height: 100vh;
            background: linear-gradient(135deg, #0a0a2a 0%, #000033 50%, #0a0a2a 100%);
            color: #ffffff;
            overflow-x: hidden;
            position: relative;
        }

        ::-webkit-scrollbar {
            width: 12px;
            background: rgba(0, 10, 30, 0.8);
        }
        
        ::-webkit-scrollbar-track {
            background: rgba(0, 10, 30, 0.4);
            border-radius: 10px;
        }
        
        ::-webkit-scrollbar-thumb {
            background: linear-gradient(45deg, #00a8ff, #0097e6);
            border-radius: 10px;
            border: 2px solid rgba(0, 20, 40, 0.8);
            box-shadow: 0 0 10px rgba(0, 168, 255, 0.5);
        }

        .particles-bg {
            position: fixed;
            width: 100%;
            height: 100%;
            background: linear-gradient(135deg, #0a0a2a 0%, #000033 50%, #0a0a2a 100%);
            z-index: 1;
            overflow: hidden;
        }

        .particle {
            position: absolute;
            background: rgba(0, 168, 255, 0.6);
            border-radius: 50%;
            box-shadow: 0 0 20px rgba(0, 168, 255, 0.8);
            z-index: 2;
        }

        .btn {
            display: inline-flex;
            align-items: center;
            justify-content: center;
            gap: 12px;
            background: linear-gradient(90deg, #00a8ff, #0097e6, #00a8ff);
            background-size: 200% 100%;
            color: #fff;
            padding: 18px 40px;
            border-radius: 12px;
            text-decoration: none;
            font-weight: 700;
            font-size: 18px;
            letter-spacing: 1px;
            box-shadow: 
                0 5px 20px rgba(0, 168, 255, 0.4),
                0 0 30px rgba(0, 168, 255, 0.2);
            transition: all 0.3s ease;
            position: relative;
            overflow: hidden;
            z-index: 1;
            border: none;
            cursor: pointer;
            width: 100%;
            margin-top: 10px;
            font-family: 'Orbitron', sans-serif;
            animation: gradient-shift 3s infinite linear;
        }

        @keyframes gradient-shift {
            0% { background-position: 0% 50%; }
            100% { background-position: 200% 50%; }
        }

        .btn:hover {
            transform: translateY(-5px);
            box-shadow: 
                0 10px 25px rgba(0, 168, 255, 0.6),
                0 0 40px rgba(0, 168, 255, 0.3);
        }

        .btn-secondary {
            background: linear-gradient(90deg, #9d00ff, #8a00ff, #9d00ff);
            color: white;
        }

        .btn-secondary:hover {
            background: linear-gradient(90deg, #8a00e6, #7a00e6, #8a00e6);
        }

        .btn-success {
            background: linear-gradient(90deg, #00ff88, #00cc66, #00ff88);
            color: white;
        }

        .btn-success:hover {
            background: linear-gradient(90deg, #00e677, #00b855, #00e677);
        }

        .panel, .auth-box, .analyzer-container, .profile-container, .dashboard-header {
            position: relative;
            border: 1px solid transparent;
            background: linear-gradient(rgba(10, 10, 30, 0.9), rgba(10, 10, 30, 0.9)) padding-box,
                        linear-gradient(45deg, #00a8ff, #0097e6, #00a8ff) border-box;
            border-radius: 20px;
        }

        .pulse-loader {
            width: 20px;
            height: 20px;
            border-radius: 50%;
            background: #00a8ff;
            box-shadow: 0 0 20px #00a8ff;
            animation: pulse 1.5s infinite;
            margin: 0 auto;
        }

        @keyframes pulse {
            0%, 100% { transform: scale(1); opacity: 1; }
            50% { transform: scale(1.2); opacity: 0.7; }
        }

        .neon-text {
            color: #00a8ff;
            text-shadow: 
                0 0 7px #00a8ff,
                0 0 10px #00a8ff,
                0 0 21px #00a8ff,
                0 0 42px #0097e6,
                0 0 82px #0097e6,
                0 0 92px #0097e6,
                0 0 102px #0097e6,
                0 0 151px #0097e6;
            animation: neon-flicker 2s infinite alternate;
        }

        @keyframes neon-flicker {
            0%, 18%, 22%, 25%, 53%, 57%, 100% {
                text-shadow: 
                    0 0 7px #00a8ff,
                    0 0 10px #00a8ff,
                    0 0 21px #00a8ff,
                    0 0 42px #0097e6,
                    0 0 82px #0097e6,
                    0 0 92px #0097e6,
                    0 0 102px #0097e6,
                    0 0 151px #0097e6;
            }
            20%, 24%, 55% {       
                text-shadow: none;
            }
        }

        .container {
            position: relative;
            z-index: 10;
            max-width: 1400px;
            margin: 0 auto;
            padding: 20px;
        }

        header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 20px 0;
            margin-bottom: 30px;
            border-bottom: 1px solid rgba(0, 168, 255, 0.3);
            position: relative;
        }

        .logo {
            font-family: 'Orbitron', sans-serif;
            font-size: 32px;
            font-weight: 800;
            background: linear-gradient(45deg, #00a8ff, #0097e6, #00a8ff);
            -webkit-background-clip: text;
            background-clip: text;
            color: transparent;
            text-shadow: 0 0 30px rgba(0, 168, 255, 0.7);
            letter-spacing: 2px;
            display: flex;
            align-items: center;
            gap: 15px;
            animation: logoGlow 2s infinite alternate;
        }

        @keyframes logoGlow {
            from { text-shadow: 0 0 30px rgba(0, 168, 255, 0.7); }
            to { text-shadow: 0 0 40px rgba(0, 168, 255, 0.9); }
        }

        nav ul {
            display: flex;
            list-style: none;
            gap: 25px;
            align-items: center;
        }

        nav a {
            color: #00a8ff;
            text-decoration: none;
            font-weight: 600;
            font-size: 16px;
            transition: all 0.3s ease;
            padding: 10px 20px;
            border-radius: 6px;
            display: flex;
            align-items: center;
            gap: 10px;
            background: rgba(0, 168, 255, 0.1);
            border: 1px solid rgba(0, 168, 255, 0.2);
        }

        nav a:hover, nav a.active {
            color: #ffffff;
            background: rgba(0, 168, 255, 0.2);
            border-color: #00a8ff;
            box-shadow: 0 0 15px rgba(0, 168, 255, 0.4);
        }

        .user-info {
            display: flex;
            align-items: center;
            gap: 15px;
            padding: 10px 20px;
            background: rgba(0, 168, 255, 0.15);
            border-radius: 8px;
            border: 1px solid rgba(0, 168, 255, 0.3);
            backdrop-filter: blur(10px);
        }

        .user-avatar {
            width: 40px;
            height: 40px;
            border-radius: 50%;
            background: linear-gradient(45deg, #00a8ff, #0097e6);
            display: flex;
            align-items: center;
            justify-content: center;
            font-weight: 700;
            font-size: 18px;
            box-shadow: 0 0 15px rgba(0, 168, 255, 0.5);
        }

        .logout-btn {
            background: transparent;
            border: 1px solid rgba(255, 0, 100, 0.3);
            color: #ff6699;
            padding: 8px 15px;
            border-radius: 6px;
            cursor: pointer;
            transition: all 0.3s ease;
            display: flex;
            align-items: center;
            gap: 8px;
            font-size: 14px;
        }

        .logout-btn:hover {
            background: rgba(255, 0, 100, 0.2);
            border-color: #ff6699;
            box-shadow: 0 0 10px rgba(255, 0, 100, 0.3);
        }

        .page {
            display: none;
            animation: fadeIn 0.5s ease;
        }

        .page.active {
            display: block;
        }

        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(20px); }
            to { opacity: 1; transform: translateY(0); }
        }

        .auth-container {
            display: flex;
            justify-content: center;
            align-items: center;
            min-height: 70vh;
        }

        .auth-box {
            background: rgba(10, 10, 30, 0.95);
            border-radius: 20px;
            padding: 40px;
            width: 100%;
            max-width: 450px;
            box-shadow: 
                0 0 50px rgba(0, 168, 255, 0.3),
                inset 0 0 20px rgba(0, 168, 255, 0.1);
            backdrop-filter: blur(10px);
        }

        .auth-tabs {
            display: flex;
            margin-bottom: 30px;
            border-bottom: 1px solid rgba(0, 168, 255, 0.3);
        }

        .auth-tab {
            flex: 1;
            text-align: center;
            padding: 15px;
            cursor: pointer;
            font-weight: 600;
            color: #00a8ff;
            transition: all 0.3s ease;
            border-bottom: 3px solid transparent;
            font-family: 'Orbitron', sans-serif;
        }

        .auth-tab.active {
            color: #ffffff;
            border-bottom: 3px solid #00a8ff;
            text-shadow: 0 0 10px rgba(0, 168, 255, 0.7);
        }

        .auth-form {
            display: none;
        }

        .auth-form.active {
            display: block;
        }

        .form-group {
            margin-bottom: 25px;
            position: relative;
        }

        .form-group label {
            display: block;
            margin-bottom: 10px;
            color: #00a8ff;
            font-weight: 600;
            display: flex;
            align-items: center;
            gap: 10px;
            font-family: 'Orbitron', sans-serif;
            font-size: 14px;
        }

        .form-control {
            width: 100%;
            padding: 15px;
            background: rgba(20, 20, 40, 0.8);
            border: 1px solid rgba(0, 168, 255, 0.3);
            border-radius: 10px;
            color: #ffffff;
            font-size: 16px;
            transition: all 0.3s ease;
        }

        .form-control:focus {
            outline: none;
            border-color: #00a8ff;
            box-shadow: 0 0 20px rgba(0, 168, 255, 0.3);
            background: rgba(30, 30, 50, 0.9);
        }

        .error-message {
            display: none;
            background: linear-gradient(45deg, rgba(255, 0, 100, 0.2), rgba(255, 0, 50, 0.2));
            border: 1px solid rgba(255, 0, 100, 0.5);
            border-radius: 10px;
            padding: 15px;
            margin: 15px 0;
            color: #ff6699;
            font-weight: 600;
            text-align: center;
            animation: errorPulse 1.5s infinite alternate;
        }

        @keyframes errorPulse {
            from { box-shadow: 0 0 10px rgba(255, 0, 100, 0.3); }
            to { box-shadow: 0 0 20px rgba(255, 0, 100, 0.5); }
        }

        .success-message {
            display: none;
            background: linear-gradient(45deg, rgba(0, 255, 100, 0.2), rgba(0, 200, 80, 0.2));
            border: 1px solid rgba(0, 255, 100, 0.5);
            border-radius: 10px;
            padding: 15px;
            margin: 15px 0;
            color: #66ff99;
            font-weight: 600;
            text-align: center;
        }

        .dashboard-header {
            background: rgba(10, 10, 30, 0.95);
            border-radius: 20px;
            padding: 30px;
            margin-bottom: 40px;
            box-shadow: 
                0 10px 30px rgba(0, 168, 255, 0.2),
                inset 0 0 20px rgba(0, 168, 255, 0.1);
            display: flex;
            justify-content: space-between;
            align-items: center;
            backdrop-filter: blur(10px);
        }

        .dashboard-stats {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: 25px;
            margin-bottom: 40px;
        }

        .stat-card {
            background: rgba(10, 10, 30, 0.95);
            border-radius: 15px;
            padding: 25px;
            box-shadow: 
                0 8px 25px rgba(0, 168, 255, 0.2),
                inset 0 0 15px rgba(0, 168, 255, 0.1);
            border: 2px solid transparent;
            transition: all 0.4s ease;
            backdrop-filter: blur(10px);
        }

        .stat-card:hover {
            border-color: #00a8ff;
            transform: translateY(-5px);
            box-shadow: 
                0 15px 35px rgba(0, 168, 255, 0.3),
                inset 0 0 20px rgba(0, 168, 255, 0.15);
        }

        .stat-card h3 {
            font-size: 16px;
            color: #00a8ff;
            margin-bottom: 15px;
            text-transform: uppercase;
            letter-spacing: 1px;
            font-family: 'Orbitron', sans-serif;
        }

        .stat-value {
            font-size: 36px;
            font-weight: 800;
            color: #00a8ff;
            font-family: 'Orbitron', sans-serif;
            text-shadow: 0 0 15px rgba(0, 168, 255, 0.5);
        }

        .analyzer-container {
            background: rgba(10, 10, 30, 0.95);
            border-radius: 20px;
            padding: 40px;
            box-shadow: 
                0 10px 40px rgba(0, 168, 255, 0.25),
                inset 0 0 20px rgba(0, 168, 255, 0.1);
            border: 2px solid transparent;
            margin-bottom: 50px;
            backdrop-filter: blur(10px);
        }

        .controls {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: 25px;
            margin-bottom: 35px;
        }

        .control-group {
            display: flex;
            flex-direction: column;
        }

        .file-upload-area {
            border: 2px dashed rgba(0, 168, 255, 0.5);
            border-radius: 15px;
            padding: 40px;
            text-align: center;
            cursor: pointer;
            transition: all 0.3s ease;
            background: rgba(20, 20, 40, 0.5);
        }

        .file-upload-area:hover {
            border-color: #00a8ff;
            background: rgba(0, 168, 255, 0.1);
            box-shadow: 0 0 30px rgba(0, 168, 255, 0.3);
        }

        .results {
            background: rgba(5, 5, 20, 0.98);
            border-radius: 15px;
            padding: 30px;
            margin-top: 40px;
            border: 2px solid transparent;
            display: none;
            box-shadow: 
                0 5px 20px rgba(0, 168, 255, 0.2),
                inset 0 0 15px rgba(0, 168, 255, 0.1);
            backdrop-filter: blur(10px);
        }

        .results.active {
            display: block;
            border-color: #00a8ff;
        }

        .log-list {
            background: rgba(10, 10, 30, 0.7);
            border-radius: 10px;
            padding: 20px;
            max-height: 400px;
            overflow-y: auto;
            font-family: 'Courier New', monospace;
            font-size: 14px;
            line-height: 1.8;
            border: 1px solid rgba(0, 168, 255, 0.2);
        }

        .log-item {
            padding: 10px 15px;
            border-bottom: 1px solid rgba(0, 168, 255, 0.1);
            transition: all 0.3s ease;
        }

        .log-item:hover {
            background: rgba(0, 168, 255, 0.1);
        }

        .highlight {
            background-color: rgba(0, 168, 255, 0.3);
            padding: 2px 4px;
            border-radius: 4px;
            font-weight: bold;
        }

        .cheat-highlight {
            background: linear-gradient(90deg, 
                rgba(255, 0, 102, 0.3), 
                rgba(255, 204, 0, 0.3)
            );
            padding: 2px 4px;
            border-radius: 4px;
            font-weight: bold;
            color: #ffbaba;
        }

        /* Upgrade Modal - Улучшенный дизайн */
        .upgrade-modal {
            display: none;
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0, 0, 10, 0.95);
            z-index: 1000;
            align-items: center;
            justify-content: center;
            backdrop-filter: blur(10px);
        }

        .upgrade-modal.active {
            display: flex;
            animation: modalFadeIn 0.3s ease;
        }

        @keyframes modalFadeIn {
            from { opacity: 0; backdrop-filter: blur(0px); }
            to { opacity: 1; backdrop-filter: blur(10px); }
        }

        .upgrade-content {
            background: linear-gradient(135deg, rgba(10, 10, 40, 0.98), rgba(5, 5, 25, 0.98));
            border-radius: 25px;
            padding: 40px;
            max-width: 700px;
            width: 90%;
            box-shadow: 
                0 0 80px rgba(0, 168, 255, 0.5),
                0 0 40px rgba(157, 0, 255, 0.3),
                inset 0 0 40px rgba(0, 168, 255, 0.2);
            border: 2px solid transparent;
            background-clip: padding-box;
            border-image: linear-gradient(45deg, #00a8ff, #9d00ff, #00ff88) 1;
            position: relative;
            overflow: hidden;
        }

        .upgrade-content::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            height: 4px;
            background: linear-gradient(90deg, #00a8ff, #9d00ff, #00ff88);
            animation: borderFlow 3s linear infinite;
        }

        @keyframes borderFlow {
            0% { background-position: 0% 50%; }
            100% { background-position: 200% 50%; }
        }

        .plan-cards {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: 25px;
            margin: 30px 0;
        }

        .plan-card {
            background: linear-gradient(135deg, rgba(20, 20, 50, 0.9), rgba(15, 15, 40, 0.9));
            border-radius: 20px;
            padding: 30px;
            border: 2px solid rgba(0, 168, 255, 0.3);
            transition: all 0.4s ease;
            position: relative;
            overflow: hidden;
        }

        .plan-card::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            height: 3px;
            background: linear-gradient(90deg, #00a8ff, #0097e6);
        }

        .plan-card:hover {
            transform: translateY(-10px);
            border-color: #00a8ff;
            box-shadow: 
                0 15px 40px rgba(0, 168, 255, 0.4),
                0 0 60px rgba(0, 168, 255, 0.2);
        }

        .plan-card.popular {
            border-color: #9d00ff;
            box-shadow: 0 0 40px rgba(157, 0, 255, 0.4);
        }

        .plan-card.popular::before {
            background: linear-gradient(90deg, #9d00ff, #8a00ff);
        }

        .plan-card.popular:hover {
            box-shadow: 
                0 20px 50px rgba(157, 0, 255, 0.5),
                0 0 80px rgba(157, 0, 255, 0.3);
        }

        .plan-card .popular-badge {
            position: absolute;
            top: -10px;
            right: 20px;
            background: linear-gradient(45deg, #9d00ff, #ff00ff);
            color: white;
            padding: 8px 20px;
            border-radius: 20px;
            font-weight: bold;
            font-size: 12px;
            box-shadow: 0 5px 15px rgba(157, 0, 255, 0.3);
        }

        .plan-features {
            list-style: none;
            margin: 20px 0;
        }

        .plan-features li {
            color: #00a8ff;
            margin: 10px 0;
            padding-left: 25px;
            position: relative;
        }

        .plan-features li::before {
            content: '✓';
            position: absolute;
            left: 0;
            color: #00ff88;
            font-weight: bold;
        }

        /* Subscription Status */
        .subscription-status {
            display: flex;
            align-items: center;
            gap: 10px;
            padding: 10px 20px;
            background: rgba(0, 168, 255, 0.1);
            border-radius: 10px;
            border: 1px solid rgba(0, 168, 255, 0.3);
            margin-top: 10px;
        }

        .subscription-badge {
            background: linear-gradient(45deg, #00a8ff, #0097e6);
            color: white;
            padding: 8px 20px;
            border-radius: 20px;
            font-weight: bold;
            font-size: 14px;
            box-shadow: 0 5px 15px rgba(0, 168, 255, 0.3);
        }

        .subscription-badge.premium {
            background: linear-gradient(45deg, #9d00ff, #ff00ff);
            color: white;
        }

        .subscription-badge.pro {
            background: linear-gradient(45deg, #00ff88, #00cc66);
            color: black;
        }

        footer {
            text-align: center;
            padding: 40px 0 30px;
            border-top: 1px solid rgba(0, 168, 255, 0.3);
            margin-top: 60px;
            color: #00a8ff;
            font-size: 14px;
        }

        @media (max-width: 992px) {
            header {
                flex-direction: column;
                gap: 20px;
            }
            
            nav ul {
                flex-wrap: wrap;
                justify-content: center;
            }
            
            .controls {
                grid-template-columns: 1fr;
            }
            
            .plan-cards {
                grid-template-columns: 1fr;
            }
        }

        @media (max-width: 768px) {
            .auth-box, .analyzer-container {
                padding: 25px;
            }
            
            .upgrade-content {
                padding: 25px;
            }
        }
    </style>
</head>
<body>
    <!-- Particles Background -->
    <div class="particles-bg" id="particles-bg"></div>
    
    <!-- Upgrade Plan Modal -->
    <div class="upgrade-modal" id="upgradeModal">
        <div class="upgrade-content">
            <h2 class="neon-text" style="text-align: center; margin-bottom: 10px;">
                <i class="fas fa-crown"></i> UPGRADE YOUR PLAN
            </h2>
            <p style="text-align: center; color: #00a8ff; margin-bottom: 30px; font-size: 18px;">
                Contact <span class="neon-text">blaxuxd</span> on Discord to upgrade your subscription
            </p>
            
            <div class="plan-cards">
                <div class="plan-card">
                    <h3 style="color: #00a8ff; margin-bottom: 15px; text-align: center;">
                        <i class="fas fa-rocket"></i> FREE PLAN
                    </h3>
                    <div style="font-size: 32px; color: #ffffff; margin-bottom: 15px; text-align: center;">$0/month</div>
                    <ul class="plan-features">
                        <li>100 log scans per day</li>
                        <li>Basic search patterns</li>
                        <li>File size up to 10MB</li>
                        <li>Community support</li>
                    </ul>
                    <div class="subscription-badge" style="width: 100%; text-align: center;">CURRENT PLAN</div>
                </div>
                
                <div class="plan-card popular">
                    <div class="popular-badge">MOST POPULAR</div>
                    <h3 style="color: #9d00ff; margin-bottom: 15px; text-align: center;">
                        <i class="fas fa-bolt"></i> PREMIUM PLAN
                    </h3>
                    <div style="font-size: 32px; color: #ffffff; margin-bottom: 15px; text-align: center;">$9.99/month</div>
                    <ul class="plan-features">
                        <li>500 log scans per day</li>
                        <li>Advanced regex patterns</li>
                        <li>File size up to 100MB</li>
                        <li>Priority support</li>
                        <li>Export capabilities</li>
                    </ul>
                    <button class="btn btn-secondary" onclick="buyPlan('premium')" style="width: 100%;">
                        <i class="fab fa-discord"></i> DM blaxuxd to buy
                    </button>
                </div>
                
                <div class="plan-card">
                    <h3 style="color: #00ff88; margin-bottom: 15px; text-align: center;">
                        <i class="fas fa-star"></i> PRO PLAN
                    </h3>
                    <div style="font-size: 32px; color: #ffffff; margin-bottom: 15px; text-align: center;">$29.99/month</div>
                    <ul class="plan-features">
                        <li>Unlimited log scans</li>
                        <li>All premium features</li>
                        <li>File size up to 1GB</li>
                        <li>24/7 priority support</li>
                        <li>API access</li>
                        <li>Custom integrations</li>
                    </ul>
                    <button class="btn btn-success" onclick="buyPlan('pro')" style="width: 100%;">
                        <i class="fab fa-discord"></i> DM blaxuxd to buy
                    </button>
                </div>
            </div>
            
            <div style="text-align: center; margin-top: 30px; padding: 20px; background: rgba(0, 168, 255, 0.1); border-radius: 15px;">
                <p style="color: #00a8ff; margin-bottom: 10px; font-size: 16px;">
                    <i class="fab fa-discord"></i> Discord Contact:
                </p>
                <p class="neon-text" style="font-size: 24px; margin-bottom: 10px;"><strong>blaxuxd</strong></p>
                <p style="color: #00a8ff; font-size: 14px;">Send a DM with your username and desired plan</p>
            </div>
            
            <button class="btn" onclick="closeUpgradeModal()" style="margin-top: 20px; width: 100%;">
                <i class="fas fa-times"></i> CLOSE
            </button>
        </div>
    </div>
    
    <div class="container">
        <!-- Header -->
        <header>
            <div class="logo">
                <i class="fas fa-shield-alt" style="font-size: 36px;"></i>
                CYROX LOG ANALYZER
            </div>
            <nav>
                <ul id="nav-menu">
                    <!-- Navigation will be dynamically populated -->
                </ul>
            </nav>
        </header>
        
        <!-- Authentication Pages -->
        <section id="login" class="page active">
            <div class="auth-container">
                <div class="auth-box">
                    <div class="auth-header">
                        <h2 class="neon-text" style="text-align: center; margin-bottom: 10px;">Authorization</h2>
                        <p style="text-align: center; color: #00a8ff;">Login or register to access Cyrox Search</p>
                    </div>
                    
                    <div class="auth-tabs">
                        <div class="auth-tab active" data-form="login-form">LOGIN</div>
                        <div class="auth-tab" data-form="register-form">REGISTER</div>
                    </div>
                    
                    <div class="error-message" id="login-error">
                        <i class="fas fa-exclamation-triangle"></i> <span id="error-text">Invalid credentials</span>
                    </div>
                    
                    <div class="success-message" id="register-success">
                        <i class="fas fa-check-circle"></i> <span id="success-text">Registration successful! You can now login.</span>
                    </div>
                    
                    <div class="error-message" id="register-error">
                        <i class="fas fa-exclamation-triangle"></i> <span id="register-error-text">Registration error</span>
                    </div>
                    
                    <form id="login-form" class="auth-form active">
                        <div class="form-group">
                            <label for="login-username"><i class="fas fa-user"></i> USERNAME</label>
                            <input type="text" id="login-username" class="form-control" placeholder="Enter username" required>
                        </div>
                        
                        <div class="form-group">
                            <label for="login-password"><i class="fas fa-lock"></i> PASSWORD</label>
                            <input type="password" id="login-password" class="form-control" placeholder="Enter password" required>
                        </div>
                        
                        <button type="submit" class="btn">
                            <i class="fas fa-sign-in-alt"></i> LOGIN
                        </button>
                        
                        <div style="text-align: center; margin-top: 20px; color: #00a8ff;">
                            <p>discord.gg/cyrox</p>
                        </div>
                    </form>
                    
                    <form id="register-form" class="auth-form">
                        <div class="form-group">
                            <label for="register-username"><i class="fas fa-user-plus"></i> USERNAME</label>
                            <input type="text" id="register-username" class="form-control" placeholder="Choose username" required>
                        </div>
                        
                        <div class="form-group">
                            <label for="register-email"><i class="fas fa-envelope"></i> EMAIL</label>
                            <input type="email" id="register-email" class="form-control" placeholder="Enter email" required>
                        </div>
                        
                        <div class="form-group">
                            <label for="register-password"><i class="fas fa-lock"></i> PASSWORD</label>
                            <input type="password" id="register-password" class="form-control" placeholder="Create password (min 6 chars)" required>
                        </div>
                        
                        <div class="form-group">
                            <label for="register-confirm"><i class="fas fa-lock"></i> CONFIRM PASSWORD</label>
                            <input type="password" id="register-confirm" class="form-control" placeholder="Confirm password" required>
                        </div>
                        
                        <button type="submit" class="btn">
                            <i class="fas fa-user-plus"></i> CREATE ACCOUNT
                        </button>
                        
                        <div style="text-align: center; margin-top: 20px; color: #00a8ff;">
                            <p>Free plan includes 100 scans/day</p>
                        </div>
                    </form>
                </div>
            </div>
        </section>
        
        <!-- Dashboard Page -->
        <section id="dashboard" class="page">
            <div class="dashboard-header">
                <div class="user-welcome">
                    <h2 class="neon-text">LOG ANALYZER DASHBOARD</h2>
                    <p>Welcome back, <span id="dashboard-username" style="color: #00a8ff;">User</span></p>
                </div>
                <div class="user-plan">
                    <div class="plan-name" id="user-plan">FREE PLAN</div>
                    <div class="subscription-status">
                        <span id="plan-status" class="subscription-badge">ACTIVE</span>
                        <button class="btn-secondary" onclick="showUpgradeModal()" style="padding: 8px 15px; font-size: 14px;">
                            <i class="fas fa-crown"></i> UPGRADE
                        </button>
                    </div>
                </div>
            </div>
            
            <div class="dashboard-stats">
                <div class="stat-card">
                    <h3><i class="fas fa-file-alt"></i> TODAY'S SCANS</h3>
                    <div class="stat-value" id="today-scans">0</div>
                    <div class="stat-label">Used <span id="daily-limit">0/100</span></div>
                </div>
                
                <div class="stat-card">
                    <h3><i class="fas fa-database"></i> TOTAL SCANS</h3>
                    <div class="stat-value" id="total-scans">0</div>
                    <div class="stat-label">All-time scans</div>
                </div>
                
                <div class="stat-card">
                    <h3><i class="fas fa-shield-alt"></i> SECURITY LEVEL</h3>
                    <div class="stat-value" id="security-level">HIGH</div>
                    <div class="stat-label">System protection</div>
                </div>
                
                <div class="stat-card">
                    <h3><i class="fas fa-crown"></i> SUBSCRIPTION</h3>
                    <div class="stat-value" id="account-status">FREE</div>
                    <div class="stat-label">Active plan</div>
                </div>
            </div>
            
            <div class="dashboard-stats">
                <div class="stat-card" style="text-align: center; padding: 30px;">
                    <div style="font-size: 48px; color: #00a8ff; margin-bottom: 20px;">
                        <i class="fas fa-search"></i>
                    </div>
                    <h3>ANALYZE LOG FILES</h3>
                    <p style="margin-bottom: 25px; color: #00a8ff;">Upload and analyze log files for security threats</p>
                    <a href="#" class="btn nav-link" data-page="analyzer">
                        <i class="fas fa-terminal"></i> LAUNCH ANALYZER
                    </a>
                </div>
                
                <div class="stat-card" style="text-align: center; padding: 30px;">
                    <div style="font-size: 48px; color: #9d00ff; margin-bottom: 20px;">
                        <i class="fas fa-crown"></i>
                    </div>
                    <h3>UPGRADE PLAN</h3>
                    <p style="margin-bottom: 25px; color: #00a8ff;">Get more scans and premium features</p>
                    <button class="btn btn-secondary" onclick="showUpgradeModal()">
                        <i class="fas fa-arrow-up"></i> UPGRADE NOW
                    </button>
                </div>
            </div>
        </section>
        
        <!-- Log Analyzer -->
        <section id="analyzer" class="page">
            <div class="analyzer-container">
                <h2 class="neon-text"><i class="fas fa-terminal"></i> LOG FILE ANALYZER</h2>
                <p style="text-align: center; color: #00a8ff; margin-bottom: 40px; font-size: 18px;">Upload log files and search for patterns or security threats</p>
                
                <div class="controls">
                    <div class="control-group">
                        <label for="file-upload"><i class="fas fa-file-upload"></i> UPLOAD LOG FILE</label>
                        <div class="file-upload-area" id="file-drop-area">
                            <i class="fas fa-cloud-upload-alt" style="font-size: 48px; color: #00a8ff; margin-bottom: 20px;"></i>
                            <p>Drag & drop log files here or click to select</p>
                            <p style="font-size: 14px; color: #00a8ff; margin-top: 10px;">Supported: .log, .txt, .json, .csv</p>
                            <input type="file" id="file-input" accept=".log,.txt,.json,.csv" style="display: none;">
                            <div id="file-info" style="margin-top: 15px; display: none;">
                                <p id="selected-file" style="color: #00a8ff;"></p>
                                <p id="file-size" style="color: #00a8ff; font-size: 12px;"></p>
                            </div>
                        </div>
                    </div>
                    
                    <div class="control-group">
                        <label for="search-pattern"><i class="fas fa-search"></i> SEARCH PATTERN</label>
                        <input type="text" id="search-pattern" class="form-control" placeholder="Enter text or regex pattern" value="error|warning|exception">
                    </div>
                    
                    <div class="control-group">
                        <label for="search-mode"><i class="fas fa-cog"></i> SEARCH MODE</label>
                        <select id="search-mode" class="form-control">
                            <option value="normal">Normal Search</option>
                            <option value="regex">Regular Expression</option>
                            <option value="case">Case Sensitive</option>
                            <option value="whole">Whole Word</option>
                        </select>
                    </div>
                    
                    <div class="control-group">
                        <label for="cheat-detection"><i class="fas fa-shield-alt"></i> SECURITY CHECKS</label>
                        <select id="cheat-detection" class="form-control">
                            <option value="enabled">Enable Cheat Detection</option>
                            <option value="disabled">Disable Cheat Detection</option>
                        </select>
                    </div>
                </div>
                
                <button id="analyze-btn" class="btn btn-large">
                    <i class="fas fa-terminal"></i> ANALYZE LOG FILE
                </button>
                
                <div id="results" class="results">
                    <div class="results-header">
                        <h3><i class="fas fa-list"></i> ANALYSIS RESULTS</h3>
                        <div class="result-count">MATCHES FOUND: <span id="match-count" style="color: #00a8ff;">0</span></div>
                    </div>
                    
                    <div class="log-list" id="log-list">
                        <!-- Analysis results will appear here -->
                    </div>
                    
                    <div style="display: flex; gap: 15px; margin-top: 20px;">
                        <button id="copy-results-btn" class="btn btn-secondary">
                            <i class="fas fa-copy"></i> COPY RESULTS
                        </button>
                        <button id="export-results-btn" class="btn btn-secondary">
                            <i class="fas fa-download"></i> EXPORT RESULTS
                        </button>
                        <button id="clear-results-btn" class="btn btn-secondary">
                            <i class="fas fa-trash"></i> CLEAR RESULTS
                        </button>
                    </div>
                </div>
            </div>
        </section>
        
        <!-- Profile Page -->
        <section id="profile" class="page">
            <div class="analyzer-container">
                <h2 class="neon-text"><i class="fas fa-user-secret"></i> USER PROFILE</h2>
                
                <div class="controls">
                    <div class="control-group">
                        <label><i class="fas fa-id-card"></i> USER INFORMATION</label>
                        <div style="background: rgba(20, 20, 40, 0.8); padding: 20px; border-radius: 10px; margin-top: 10px;">
                            <div style="display: flex; align-items: center; gap: 15px; margin-bottom: 15px;">
                                <div class="user-avatar" id="profile-avatar" style="width: 60px; height: 60px; font-size: 24px;">
                                    U
                                </div>
                                <div>
                                    <div id="profile-name" style="font-size: 20px; color: #00a8ff; font-family: 'Orbitron', sans-serif;">USER</div>
                                    <div id="profile-email" style="color: #00a8ff; font-size: 14px;">user@example.com</div>
                                </div>
                            </div>
                            
                            <div style="display: grid; grid-template-columns: repeat(2, 1fr); gap: 15px; margin-top: 20px;">
                                <div>
                                    <div style="color: #00a8ff; font-size: 12px;">SUBSCRIPTION</div>
                                    <div id="profile-plan" style="color: #00a8ff; font-size: 18px; font-family: 'Orbitron', sans-serif;">FREE</div>
                                </div>
                                <div>
                                    <div style="color: #00a8ff; font-size: 12px;">SCANS TODAY</div>
                                    <div id="profile-scans-today" style="color: #00a8ff; font-size: 18px;">0/100</div>
                                </div>
                                <div>
                                    <div style="color: #00a8ff; font-size: 12px;">TOTAL SCANS</div>
                                    <div id="profile-total-scans" style="color: #00a8ff; font-size: 18px;">0</div>
                                </div>
                                <div>
                                    <div style="color: #00a8ff; font-size: 12px;">JOINED</div>
                                    <div id="profile-joined" style="color: #00a8ff; font-size: 14px;">Today</div>
                                </div>
                            </div>
                        </div>
                    </div>
                    
                    <div class="control-group">
                        <label><i class="fas fa-crown"></i> SUBSCRIPTION MANAGEMENT</label>
                        <div style="background: rgba(20, 20, 40, 0.8); padding: 20px; border-radius: 10px; margin-top: 10px;">
                            <div id="current-plan-display" class="subscription-status" style="justify-content: center; margin-bottom: 20px;">
                                <span class="subscription-badge">FREE PLAN</span>
                                <span style="color: #00a8ff;">Active</span>
                            </div>
                            
                            <p style="color: #00a8ff; text-align: center; margin-bottom: 20px;">
                                Current plan limits: <strong>100 scans/day</strong>
                            </p>
                            
                            <button class="btn btn-secondary" onclick="showUpgradeModal()" style="width: 100%;">
                                <i class="fas fa-crown"></i> UPGRADE PLAN
                            </button>
                        </div>
                    </div>
                </div>
            </div>
        </section>
        
        <!-- Footer -->
        <footer>
            <p class="copyright">© 2026 CYROX SEARCH. ALL RIGHTS RESERVED.</p>
            <p style="margin-top: 10px; color: #0097e6;">Powered by Cyrox | Discord: blaxuxd</p>
        </footer>
    </div>

    <script>
        // Back4App Configuration
        const BACK4APP_APP_ID = 'Ud6RkmSIguQgUXt4NdNxlfGLS4ZXYQaSLipNVvXQ'; // Replace with your Back4App App ID
        const BACK4APP_JS_KEY = 'fE7OQJZoiGRyLHNUhlb5lGcbRpuWjbcWcyxWJRtn'; // Replace with your Back4App JavaScript Key
        const BACK4APP_REST_API_KEY = 'aXPoAsULKOfRVO2z3MgTD2upR3M0AeG5rqohXViz'; // Replace with your Back4App REST API Key

        // Initialize Back4App Parse
        Parse.initialize(BACK4APP_APP_ID, BACK4APP_JS_KEY);
        Parse.serverURL = 'https://parseapi.back4app.com/';

        // User Management System with Back4App
        class LogAnalyzerSystem {
            constructor() {
                this.currentUser = null;
                this.userStats = {
                    todayScans: 0,
                    totalScans: 0,
                    lastResetDate: this.getTodayDate()
                };
                this.init();
            }
            
            async init() {
                // Check for saved session
                const savedUser = localStorage.getItem('cyrox_user');
                if (savedUser) {
                    try {
                        this.currentUser = JSON.parse(savedUser);
                        
                        // Try to restore Parse session
                        const currentUser = Parse.User.current();
                        if (!currentUser) {
                            // Try to login with stored credentials
                            await this.restoreSession();
                        }
                        
                        await this.loadUserStats();
                        this.updateUIForLoggedInUser();
                    } catch (error) {
                        console.error('Session restore error:', error);
                        this.showLoginPage();
                    }
                } else {
                    this.showLoginPage();
                }
                
                this.initParticles();
            }
            
            async restoreSession() {
                try {
                    // Try to restore user from localStorage
                    const userData = JSON.parse(localStorage.getItem('cyrox_user'));
                    if (!userData) return false;
                    
                    // Create a dummy user to maintain compatibility
                    this.currentUser = userData;
                    return true;
                } catch (error) {
                    return false;
                }
            }
            
            initParticles() {
                const container = document.getElementById('particles-bg');
                const particleCount = 50;
                
                for (let i = 0; i < particleCount; i++) {
                    const particle = document.createElement('div');
                    particle.className = 'particle';
                    
                    const size = Math.random() * 5 + 2;
                    particle.style.width = `${size}px`;
                    particle.style.height = `${size}px`;
                    particle.style.left = `${Math.random() * 100}vw`;
                    particle.style.top = `${Math.random() * 100}vh`;
                    particle.style.opacity = Math.random() * 0.6 + 0.4;
                    
                    container.appendChild(particle);
                    this.animateParticle(particle);
                }
            }
            
            animateParticle(particle) {
                let x = parseFloat(particle.style.left);
                let y = parseFloat(particle.style.top);
                let speedX = (Math.random() - 0.5) * 0.4;
                let speedY = (Math.random() - 0.5) * 0.4;
                
                const animate = () => {
                    x += speedX;
                    y += speedY;
                    
                    if (x > 100) x = 0;
                    if (x < 0) x = 100;
                    if (y > 100) y = 0;
                    if (y < 0) y = 100;
                    
                    particle.style.left = `${x}vw`;
                    particle.style.top = `${y}vh`;
                    
                    requestAnimationFrame(animate);
                };
                
                animate();
            }
            
            async loadUserStats() {
                try {
                    const stats = localStorage.getItem(`cyrox_stats_${this.currentUser.id}`);
                    if (stats) {
                        this.userStats = JSON.parse(stats);
                        // Reset if new day
                        if (this.userStats.lastResetDate !== this.getTodayDate()) {
                            this.userStats.todayScans = 0;
                            this.userStats.lastResetDate = this.getTodayDate();
                            await this.saveUserStats();
                        }
                    }
                } catch (error) {
                    this.userStats = {
                        todayScans: 0,
                        totalScans: 0,
                        lastResetDate: this.getTodayDate()
                    };
                    await this.saveUserStats();
                }
            }
            
            async saveUserStats() {
                try {
                    if (this.currentUser) {
                        localStorage.setItem(`cyrox_stats_${this.currentUser.id}`, JSON.stringify(this.userStats));
                    }
                } catch (error) {
                    console.error('Error saving user stats:', error);
                }
            }
            
            async login(username, password) {
                try {
                    const btn = document.querySelector('#login-form .btn');
                    const originalText = btn.innerHTML;
                    btn.innerHTML = '<div class="pulse-loader"></div> LOGGING IN';
                    btn.disabled = true;
                    
                    // Hide any previous messages
                    document.getElementById('login-error').style.display = 'none';
                    
                    // Simple validation
                    if (!username.trim() || !password.trim()) {
                        throw new Error('Please enter username and password');
                    }
                    
                    // Test credentials (demo account)
                    if (username === 'admin' && password === 'admin123') {
                        this.currentUser = {
                            id: 'demo-admin',
                            username: 'admin',
                            email: 'admin@cyrox.com',
                            subscription: 'free',
                            createdAt: new Date().toISOString()
                        };
                    } else {
                        // Try Back4App login
                        try {
                            const user = await Parse.User.logIn(username, password);
                            this.currentUser = {
                                id: user.id,
                                username: user.get('username'),
                                email: user.get('email'),
                                subscription: user.get('subscription') || 'free',
                                createdAt: user.createdAt.toISOString()
                            };
                        } catch (parseError) {
                            // Fallback to local storage
                            const users = JSON.parse(localStorage.getItem('cyrox_users') || '[]');
                            const user = users.find(u => u.username === username && u.password === password);
                            
                            if (!user) {
                                throw new Error('Invalid username or password');
                            }
                            
                            this.currentUser = {
                                id: user.id,
                                username: user.username,
                                email: user.email,
                                subscription: user.subscription || 'free',
                                createdAt: user.createdAt
                            };
                        }
                    }
                    
                    localStorage.setItem('cyrox_user', JSON.stringify(this.currentUser));
                    
                    await this.loadUserStats();
                    this.updateUIForLoggedInUser();
                    
                    btn.innerHTML = '<i class="fas fa-check"></i> LOGIN SUCCESSFUL';
                    btn.style.background = 'linear-gradient(45deg, #00ff88, #00cc66)';
                    
                    setTimeout(() => {
                        btn.innerHTML = originalText;
                        btn.style.background = '';
                        btn.disabled = false;
                    }, 1500);
                    
                    return { success: true };
                    
                } catch (error) {
                    const errorElement = document.getElementById('login-error');
                    const errorText = document.getElementById('error-text');
                    errorText.textContent = error.message;
                    errorElement.style.display = 'block';
                    
                    const btn = document.querySelector('#login-form .btn');
                    btn.innerHTML = '<i class="fas fa-sign-in-alt"></i> LOGIN';
                    btn.disabled = false;
                    
                    return { success: false };
                }
            }
            
            async register(username, email, password) {
                try {
                    const btn = document.querySelector('#register-form .btn');
                    const originalText = btn.innerHTML;
                    btn.innerHTML = '<div class="pulse-loader"></div> CREATING ACCOUNT';
                    btn.disabled = true;
                    
                    // Hide any previous messages
                    document.getElementById('register-error').style.display = 'none';
                    document.getElementById('register-success').style.display = 'none';
                    
                    // Validation
                    if (!username.trim() || !email.trim() || !password.trim()) {
                        throw new Error('Please fill all fields');
                    }
                    
                    if (password.length < 6) {
                        throw new Error('Password must be at least 6 characters');
                    }
                    
                    if (document.getElementById('register-confirm').value !== password) {
                        throw new Error('Passwords do not match');
                    }
                    
                    if (!email.includes('@') || !email.includes('.')) {
                        throw new Error('Please enter a valid email');
                    }
                    
                    // Check if user already exists
                    const users = JSON.parse(localStorage.getItem('cyrox_users') || '[]');
                    const existingUser = users.find(u => u.username === username || u.email === email);
                    
                    if (existingUser) {
                        throw new Error('Username or email already exists');
                    }
                    
                    // Try Back4App registration first
                    try {
                        const user = new Parse.User();
                        user.set('username', username);
                        user.set('email', email);
                        user.set('password', password);
                        user.set('subscription', 'free');
                        
                        await user.signUp();
                        
                        this.currentUser = {
                            id: user.id,
                            username: user.get('username'),
                            email: user.get('email'),
                            subscription: 'free',
                            createdAt: user.createdAt.toISOString()
                        };
                        
                        // Also save to local storage for fallback
                        const newUser = {
                            id: user.id,
                            username: username,
                            email: email,
                            password: password, // Note: Only for fallback
                            subscription: 'free',
                            createdAt: new Date().toISOString()
                        };
                        users.push(newUser);
                        localStorage.setItem('cyrox_users', JSON.stringify(users));
                        
                    } catch (parseError) {
                        // Fallback to local storage only
                        console.log('Back4App registration failed, using local storage:', parseError);
                        
                        const newUser = {
                            id: 'user_' + Date.now(),
                            username: username,
                            email: email,
                            password: password, // In production, hash this!
                            subscription: 'free',
                            createdAt: new Date().toISOString()
                        };
                        
                        users.push(newUser);
                        localStorage.setItem('cyrox_users', JSON.stringify(users));
                        
                        this.currentUser = {
                            id: newUser.id,
                            username: username,
                            email: email,
                            subscription: 'free',
                            createdAt: newUser.createdAt
                        };
                    }
                    
                    // Save to localStorage
                    localStorage.setItem('cyrox_user', JSON.stringify(this.currentUser));
                    
                    // Initialize user stats
                    this.userStats = {
                        todayScans: 0,
                        totalScans: 0,
                        lastResetDate: this.getTodayDate()
                    };
                    await this.saveUserStats();
                    
                    // Show success message
                    const successElement = document.getElementById('register-success');
                    const successText = document.getElementById('success-text');
                    successText.textContent = 'Account created successfully! Switch to login tab.';
                    successElement.style.display = 'block';
                    
                    // Clear form
                    document.getElementById('register-form').reset();
                    
                    btn.innerHTML = '<i class="fas fa-check"></i> ACCOUNT CREATED';
                    btn.style.background = 'linear-gradient(45deg, #00ff88, #00cc66)';
                    
                    setTimeout(() => {
                        btn.innerHTML = originalText;
                        btn.style.background = '';
                        btn.disabled = false;
                        
                        // Switch to login tab
                        document.querySelector('.auth-tab[data-form="login-form"]').click();
                    }, 2000);
                    
                    return { success: true };
                    
                } catch (error) {
                    const errorElement = document.getElementById('register-error');
                    const errorText = document.getElementById('register-error-text');
                    errorText.textContent = error.message;
                    errorElement.style.display = 'block';
                    
                    const btn = document.querySelector('#register-form .btn');
                    btn.innerHTML = '<i class="fas fa-user-plus"></i> CREATE ACCOUNT';
                    btn.disabled = false;
                    
                    return { success: false };
                }
            }
            
            async incrementScanCount() {
                const plan = this.currentUser.subscription;
                const dailyLimit = this.getPlanLimit(plan);
                
                // Reset if new day
                if (this.userStats.lastResetDate !== this.getTodayDate()) {
                    this.userStats.todayScans = 0;
                    this.userStats.lastResetDate = this.getTodayDate();
                    await this.saveUserStats();
                }
                
                // Check limit
                if (this.userStats.todayScans >= dailyLimit) {
                    return { 
                        success: false, 
                        message: `Daily scan limit reached (${dailyLimit}/day). Please upgrade your plan.` 
                    };
                }
                
                this.userStats.todayScans++;
                this.userStats.totalScans++;
                
                await this.saveUserStats();
                this.updateStatsUI();
                
                return { success: true };
            }
            
            getPlanLimit(plan) {
                const limits = {
                    free: 100,
                    premium: 500,
                    pro: 9999 // Unlimited
                };
                return limits[plan] || 100;
            }
            
            updateStatsUI() {
                const plan = this.currentUser.subscription;
                const dailyLimit = this.getPlanLimit(plan);
                
                document.getElementById('today-scans').textContent = this.userStats.todayScans;
                document.getElementById('daily-limit').textContent = `${this.userStats.todayScans}/${dailyLimit}`;
                document.getElementById('total-scans').textContent = this.userStats.totalScans;
                document.getElementById('account-status').textContent = plan.toUpperCase();
                
                document.getElementById('profile-scans-today').textContent = `${this.userStats.todayScans}/${dailyLimit}`;
                document.getElementById('profile-total-scans').textContent = this.userStats.totalScans;
                document.getElementById('profile-plan').textContent = plan.toUpperCase();
                document.getElementById('profile-name').textContent = this.currentUser.username.toUpperCase();
                document.getElementById('profile-email').textContent = this.currentUser.email;
                document.getElementById('profile-avatar').textContent = this.currentUser.username.charAt(0).toUpperCase();
                document.getElementById('profile-joined').textContent = new Date(this.currentUser.createdAt).toLocaleDateString();
                
                // Update plan badge
                const badge = document.querySelector('.subscription-badge');
                if (badge) {
                    badge.textContent = `${plan.toUpperCase()} PLAN`;
                    badge.className = 'subscription-badge';
                    if (plan === 'premium') badge.classList.add('premium');
                    if (plan === 'pro') badge.classList.add('pro');
                }
            }
            
            updateUIForLoggedInUser() {
                const navMenu = document.getElementById('nav-menu');
                navMenu.innerHTML = `
                    <li><a href="#" class="nav-link" data-page="dashboard"><i class="fas fa-tachometer-alt"></i> DASHBOARD</a></li>
                    <li><a href="#" class="nav-link" data-page="analyzer"><i class="fas fa-search"></i> ANALYZER</a></li>
                    <li><a href="#" class="nav-link" data-page="profile"><i class="fas fa-user"></i> PROFILE</a></li>
                    <li>
                        <div class="user-info">
                            <div class="user-avatar">${this.currentUser.username.charAt(0).toUpperCase()}</div>
                            <div class="user-name">${this.currentUser.username}</div>
                            <button class="logout-btn" id="logout-btn">
                                <i class="fas fa-sign-out-alt"></i> LOGOUT
                            </button>
                        </div>
                    </li>
                `;
                
                document.getElementById('dashboard-username').textContent = this.currentUser.username;
                
                this.updateStatsUI();
                this.showPage('dashboard');
            }
            
            async logout() {
                try {
                    // Logout from Parse
                    await Parse.User.logOut();
                } catch (error) {
                    console.error('Parse logout error:', error);
                }
                
                this.currentUser = null;
                localStorage.removeItem('cyrox_user');
                this.showLoginPage();
            }
            
            showLoginPage() {
                const navMenu = document.getElementById('nav-menu');
                navMenu.innerHTML = `
                    <li><a href="#" class="nav-link" data-page="login"><i class="fas fa-sign-in-alt"></i> LOGIN</a></li>
                `;
                this.showPage('login');
                
                // Clear messages
                document.getElementById('login-error').style.display = 'none';
                document.getElementById('register-error').style.display = 'none';
                document.getElementById('register-success').style.display = 'none';
                
                // Reset forms
                document.getElementById('login-form').reset();
                document.getElementById('register-form').reset();
            }
            
            showPage(pageId) {
                document.querySelectorAll('.page').forEach(page => page.classList.remove('active'));
                document.querySelectorAll('.nav-link').forEach(link => link.classList.remove('active'));
                
                document.getElementById(pageId).classList.add('active');
                document.querySelectorAll(`.nav-link[data-page="${pageId}"]`).forEach(link => link.classList.add('active'));
            }
            
            getTodayDate() {
                return new Date().toISOString().split('T')[0];
            }
            
            // Log analysis functions
            async analyzeLogFile(file, pattern, mode, cheatDetection) {
                return new Promise((resolve, reject) => {
                    const reader = new FileReader();
                    
                    reader.onload = function(e) {
                        try {
                            const content = e.target.result;
                            const lines = content.split('\n');
                            const results = [];
                            
                            const suspiciousPatterns = [
                                'cheat', 'hack', 'exploit', 'inject', 'bypass',
                                'modify', 'tamper', 'unauthorized', '0xcheats',
                                'nursultan', 'deltaclient', 'wexside', 'nixware', 'neverlose'
                            ];
                            
                            let regex;
                            switch(mode) {
                                case 'regex':
                                    regex = new RegExp(pattern, 'g');
                                    break;
                                case 'case':
                                    regex = new RegExp(pattern.replace(/[.*+?^${}()|[\]\\]/g, '\\$&'), 'g');
                                    break;
                                case 'whole':
                                    regex = new RegExp(`\\b${pattern.replace(/[.*+?^${}()|[\]\\]/g, '\\$&')}\\b`, 'gi');
                                    break;
                                default:
                                    regex = new RegExp(pattern.replace(/[.*+?^${}()|[\]\\]/g, '\\$&'), 'gi');
                            }
                            
                            for (let i = 0; i < lines.length; i++) {
                                const line = lines[i];
                                const matches = line.match(regex);
                                
                                if (matches) {
                                    let highlightedLine = line;
                                    
                                    matches.forEach(match => {
                                        highlightedLine = highlightedLine.replace(
                                            new RegExp(match.replace(/[.*+?^${}()|[\]\\]/g, '\\$&'), 'gi'),
                                            `<span class="highlight">${match}</span>`
                                        );
                                    });
                                    
                                    let isSuspicious = false;
                                    if (cheatDetection === 'enabled') {
                                        for (const suspiciousPattern of suspiciousPatterns) {
                                            if (line.toLowerCase().includes(suspiciousPattern)) {
                                                isSuspicious = true;
                                                highlightedLine = highlightedLine.replace(
                                                    new RegExp(suspiciousPattern, 'gi'),
                                                    `<span class="cheat-highlight">${suspiciousPattern}</span>`
                                                );
                                            }
                                        }
                                    }
                                    
                                    results.push({
                                        lineNumber: i + 1,
                                        content: highlightedLine,
                                        isSuspicious: isSuspicious
                                    });
                                }
                            }
                            
                            resolve({
                                results: results,
                                totalLines: lines.length,
                                fileSize: file.size
                            });
                            
                        } catch (error) {
                            reject(error);
                        }
                    };
                    
                    reader.onerror = function() {
                        reject(new Error('Error reading file'));
                    };
                    
                    reader.readAsText(file);
                });
            }
            
            displayResults(results) {
                const logList = document.getElementById('log-list');
                const matchCount = document.getElementById('match-count');
                
                matchCount.textContent = results.results.length;
                
                if (results.results.length === 0) {
                    logList.innerHTML = '<div style="text-align: center; padding: 40px; color: #00a8ff;"><i class="fas fa-search-minus" style="font-size: 48px; margin-bottom: 20px;"></i><p>No matches found in the log file</p></div>';
                    return;
                }
                
                let html = '';
                results.results.forEach((result, index) => {
                    const warningIcon = result.isSuspicious ? '<i class="fas fa-exclamation-triangle" style="color: #ff0066; margin-right: 10px;"></i>' : '';
                    const warningText = result.isSuspicious ? '<span style="color: #ff0066; font-size: 12px;">[SUSPICIOUS]</span> ' : '';
                    
                    html += `
                        <div class="log-item">
                            <div style="display: flex; align-items: flex-start; gap: 15px;">
                                <div style="min-width: 80px;">
                                    <span style="color: #00a8ff; font-weight: bold;">Line ${result.lineNumber}</span>
                                </div>
                                <div style="flex: 1;">
                                    ${warningIcon}${warningText}
                                    <span style="color: #ffffff;">${result.content}</span>
                                </div>
                            </div>
                        </div>
                    `;
                });
                
                logList.innerHTML = html;
            }
        }

        // Initialize the system
        const logAnalyzer = new LogAnalyzerSystem();

        // Global functions for upgrade modal
        window.showUpgradeModal = function() {
            document.getElementById('upgradeModal').classList.add('active');
        };

        window.closeUpgradeModal = function() {
            document.getElementById('upgradeModal').classList.remove('active');
        };

        window.buyPlan = function(plan) {
            alert(`To purchase the ${plan.toUpperCase()} plan, please send a DM to blaxuxd on Discord with your username and desired plan.`);
        };

        // DOM Event Listeners
        document.addEventListener('DOMContentLoaded', function() {
            // Navigation
            document.addEventListener('click', function(e) {
                if (e.target.classList.contains('nav-link') || e.target.closest('.nav-link')) {
                    e.preventDefault();
                    const link = e.target.classList.contains('nav-link') ? e.target : e.target.closest('.nav-link');
                    const pageId = link.getAttribute('data-page');
                    
                    if (pageId === 'login' && logAnalyzer.currentUser) {
                        logAnalyzer.showPage('dashboard');
                        return;
                    }
                    
                    logAnalyzer.showPage(pageId);
                }
            });

            // Auth tabs
            document.querySelectorAll('.auth-tab').forEach(tab => {
                tab.addEventListener('click', function() {
                    const formId = this.getAttribute('data-form');
                    
                    document.querySelectorAll('.auth-tab').forEach(t => t.classList.remove('active'));
                    this.classList.add('active');
                    
                    document.querySelectorAll('.auth-form').forEach(form => form.classList.remove('active'));
                    document.getElementById(formId).classList.add('active');
                    
                    // Hide messages when switching tabs
                    document.getElementById('login-error').style.display = 'none';
                    document.getElementById('register-error').style.display = 'none';
                    document.getElementById('register-success').style.display = 'none';
                });
            });

            // Logout
            document.addEventListener('click', function(e) {
                if (e.target.id === 'logout-btn' || e.target.closest('#logout-btn')) {
                    e.preventDefault();
                    logAnalyzer.logout();
                }
            });

            // Login form
            document.getElementById('login-form').addEventListener('submit', async function(e) {
                e.preventDefault();
                
                const username = document.getElementById('login-username').value;
                const password = document.getElementById('login-password').value;
                
                await logAnalyzer.login(username, password);
            });

            // Register form
            document.getElementById('register-form').addEventListener('submit', async function(e) {
                e.preventDefault();
                await logAnalyzer.register(
                    document.getElementById('register-username').value,
                    document.getElementById('register-email').value,
                    document.getElementById('register-password').value
                );
            });

            // File upload
            const fileInput = document.getElementById('file-input');
            const fileDropArea = document.getElementById('file-drop-area');
            const fileInfo = document.getElementById('file-info');
            const selectedFile = document.getElementById('selected-file');
            const fileSize = document.getElementById('file-size');
            
            let currentFile = null;
            
            fileDropArea.addEventListener('click', function() {
                fileInput.click();
            });
            
            fileInput.addEventListener('change', function(e) {
                if (e.target.files.length > 0) {
                    currentFile = e.target.files[0];
                    selectedFile.textContent = `Selected: ${currentFile.name}`;
                    fileSize.textContent = `Size: ${formatFileSize(currentFile.size)}`;
                    fileInfo.style.display = 'block';
                    
                    fileDropArea.style.borderColor = '#00a8ff';
                    fileDropArea.style.background = 'rgba(0, 168, 255, 0.1)';
                }
            });
            
            fileDropArea.addEventListener('dragover', function(e) {
                e.preventDefault();
                fileDropArea.style.borderColor = '#00a8ff';
                fileDropArea.style.background = 'rgba(0, 168, 255, 0.2)';
            });
            
            fileDropArea.addEventListener('dragleave', function() {
                if (!currentFile) {
                    fileDropArea.style.borderColor = '';
                    fileDropArea.style.background = '';
                }
            });
            
            fileDropArea.addEventListener('drop', function(e) {
                e.preventDefault();
                if (e.dataTransfer.files.length > 0) {
                    currentFile = e.dataTransfer.files[0];
                    fileInput.files = e.dataTransfer.files;
                    selectedFile.textContent = `Selected: ${currentFile.name}`;
                    fileSize.textContent = `Size: ${formatFileSize(currentFile.size)}`;
                    fileInfo.style.display = 'block';
                    
                    fileDropArea.style.borderColor = '#00a8ff';
                    fileDropArea.style.background = 'rgba(0, 168, 255, 0.1)';
                }
            });

            // Analyze button
            document.getElementById('analyze-btn').addEventListener('click', async function() {
                if (!logAnalyzer.currentUser) {
                    alert('Please login first!');
                    logAnalyzer.showPage('login');
                    return;
                }
                
                if (!currentFile) {
                    alert('Please select a log file first!');
                    return;
                }
                
                const pattern = document.getElementById('search-pattern').value.trim();
                if (!pattern) {
                    alert('Please enter a search pattern!');
                    return;
                }
                
                // Check daily limit
                const scanResult = await logAnalyzer.incrementScanCount();
                if (!scanResult.success) {
                    alert(scanResult.message);
                    return;
                }
                
                const mode = document.getElementById('search-mode').value;
                const cheatDetection = document.getElementById('cheat-detection').value;
                
                // Show loading
                this.innerHTML = '<div class="pulse-loader"></div> ANALYZING...';
                this.disabled = true;
                
                try {
                    const results = await logAnalyzer.analyzeLogFile(currentFile, pattern, mode, cheatDetection);
                    logAnalyzer.displayResults(results);
                    
                    // Show results
                    document.getElementById('results').classList.add('active');
                    
                } catch (error) {
                    alert('Error analyzing file: ' + error.message);
                } finally {
                    this.innerHTML = '<i class="fas fa-terminal"></i> ANALYZE LOG FILE';
                    this.disabled = false;
                }
            });

            // Copy results
            document.getElementById('copy-results-btn').addEventListener('click', function() {
                const results = document.querySelectorAll('.log-item');
                if (results.length === 0) {
                    alert('No results to copy!');
                    return;
                }
                
                let text = '';
                results.forEach(item => {
                    const lineNum = item.querySelector('span[style*="color: #00a8ff"]')?.textContent || '';
                    const content = item.querySelector('span[style*="color: #ffffff"]')?.textContent || '';
                    text += `${lineNum}: ${content}\n`;
                });
                
                navigator.clipboard.writeText(text).then(() => {
                    this.innerHTML = '<i class="fas fa-check"></i> COPIED!';
                    setTimeout(() => {
                        this.innerHTML = '<i class="fas fa-copy"></i> COPY RESULTS';
                    }, 2000);
                });
            });

            // Export results
            document.getElementById('export-results-btn').addEventListener('click', function() {
                const results = document.querySelectorAll('.log-item');
                if (results.length === 0) {
                    alert('No results to export!');
                    return;
                }
                
                let text = 'Cyrox Log Analyzer Results\n';
                text += `Generated: ${new Date().toLocaleString()}\n`;
                text += `Pattern: ${document.getElementById('search-pattern').value}\n`;
                text += `Matches: ${document.getElementById('match-count').textContent}\n\n`;
                
                results.forEach(item => {
                    const lineNum = item.querySelector('span[style*="color: #00a8ff"]')?.textContent || '';
                    const content = item.querySelector('span[style*="color: #ffffff"]')?.textContent || '';
                    text += `${lineNum}: ${content}\n`;
                });
                
                const blob = new Blob([text], { type: 'text/plain' });
                const url = URL.createObjectURL(blob);
                const a = document.createElement('a');
                a.href = url;
                a.download = `cyrox-log-analysis-${Date.now()}.txt`;
                document.body.appendChild(a);
                a.click();
                document.body.removeChild(a);
                URL.revokeObjectURL(url);
                
                this.innerHTML = '<i class="fas fa-check"></i> EXPORTED!';
                setTimeout(() => {
                    this.innerHTML = '<i class="fas fa-download"></i> EXPORT RESULTS';
                }, 2000);
            });

            // Clear results
            document.getElementById('clear-results-btn').addEventListener('click', function() {
                document.getElementById('log-list').innerHTML = '';
                document.getElementById('results').classList.remove('active');
                document.getElementById('match-count').textContent = '0';
                currentFile = null;
                fileInfo.style.display = 'none';
                fileDropArea.style.borderColor = '';
                fileDropArea.style.background = '';
                fileInput.value = '';
            });

            // Close modal when clicking outside
            document.getElementById('upgradeModal').addEventListener('click', function(e) {
                if (e.target === this) {
                    closeUpgradeModal();
                }
            });

            // Create demo users on first load
            if (!localStorage.getItem('cyrox_users')) {
                const demoUsers = [
                    {
                        id: 'demo-admin',
                        username: 'admin',
                        email: 'admin@cyrox.com',
                        password: 'admin123',
                        subscription: 'free',
                        createdAt: new Date().toISOString()
                    }
                ];
                localStorage.setItem('cyrox_users', JSON.stringify(demoUsers));
            }
        });

        // Utility function
        function formatFileSize(bytes) {
            if (bytes === 0) return '0 Bytes';
            const k = 1024;
            const sizes = ['Bytes', 'KB', 'MB', 'GB'];
            const i = Math.floor(Math.log(bytes) / Math.log(k));
            return parseFloat((bytes / Math.pow(k, i)).toFixed(2)) + ' ' + sizes[i];
        }

        // Auto-fill demo credentials
        setTimeout(() => {
            if (!logAnalyzer.currentUser) {
                document.getElementById('login-username').value = 'admin';
                document.getElementById('login-password').value = 'admin123';
            }
        }, 500);
    </script>
    
    <!-- Back4App Parse SDK -->
    <script src="https://npmcdn.com/parse/dist/parse.min.js"></script>
</body>
</html>
